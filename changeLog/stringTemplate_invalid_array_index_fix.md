# Исправление ошибки "Invalid array index format" в stringTemplate

## Проблема

При использовании некорректных индексов массивов в шаблонах (например, `[Number(params]`, `[abc]`, `[1.5]`) возникала ошибка "Invalid array index format" и функция возвращала пустую строку вместо исходного шаблона.

## Причина

Функция `splitDeepPath` в `deepManipulate.ts` не могла корректно обработать некорректные индексы массивов и прерывала обработку, что приводило к тому, что `deepGet` возвращал `undefined`, который затем преобразовывался в пустую строку.

## Решение

1. **Добавлена функция `isPathValid`** - проверяет корректность пути перед попыткой получения значения
2. **Обновлена функция `splitDeepPath`** - теперь возвращает пустой массив для некорректных индексов, что позволяет `isPathValid` определить некорректность пути
3. **Обновлены функции шаблонов** - теперь проверяют корректность пути и возвращают исходный шаблон для некорректных путей
4. **Специальная обработка отрицательных индексов** - отрицательные индексы считаются корректными путями, но `deepGet` возвращает `undefined` для них

## Изменения в коде

### deepManipulate.ts

- Добавлена функция `isPathValid(pathTo?: string): boolean`
- Обновлена функция `splitDeepPath` для корректной обработки некорректных индексов
- Обновлена функция `deepGet` для обработки специального маркера отрицательных индексов

### stringTemplate.ts

- Добавлен импорт `isPathValid`
- Обновлены функции `mustacheTemplate` и `standardTemplate` для проверки корректности путей

## Тестирование

Добавлен новый тест `should handle malformed array indices gracefully` который проверяет корректную обработку различных некорректных форматов индексов:

- `[Number(params]` - неполный индекс
- `[abc]` - нечисловой индекс
- `[1.5]` - дробный индекс
- `[1a]` - смешанный индекс
- `[1,2]` - множественные индексы
- `[1+2]` - выражение

## Результат

Теперь при использовании некорректных индексов массивов:

- Выводится предупреждение в консоль
- Возвращается исходный шаблон вместо пустой строки
- Обычные случаи (несуществующие пути, null значения) продолжают работать как ожидается
